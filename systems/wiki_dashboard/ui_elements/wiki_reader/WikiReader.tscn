[gd_scene load_steps=58 format=2]

[ext_resource path="res://assets/fonts/Roboto/Roboto-Regular.ttf" type="DynamicFontData" id=1]
[ext_resource path="res://assets/graphics/wiki_dashboard/x.svg" type="Texture" id=2]
[ext_resource path="res://assets/fonts/Roboto/Roboto-Bold.ttf" type="DynamicFontData" id=3]
[ext_resource path="res://assets/graphics/effects/BackgroundBlur.tscn" type="PackedScene" id=4]
[ext_resource path="res://assets/fonts/Roboto/Roboto-Italic.ttf" type="DynamicFontData" id=5]
[ext_resource path="res://assets/graphics/wiki_dashboard/edit-3.svg" type="Texture" id=6]
[ext_resource path="res://assets/graphics/wiki_dashboard/Vector.png" type="Texture" id=7]
[ext_resource path="res://Header.tres" type="DynamicFont" id=8]
[ext_resource path="res://assets/graphics/wiki_dashboard/Ellipse 1.png" type="Texture" id=9]
[ext_resource path="res://assets/fonts/Roboto/NovaMono-Regular.ttf" type="DynamicFontData" id=10]
[ext_resource path="res://assets/graphics/wiki_dashboard/wiki_reader/Rectangle 20.png" type="Texture" id=11]
[ext_resource path="res://assets/fonts/Roboto/Roboto-BoldItalic.ttf" type="DynamicFontData" id=14]

[sub_resource type="GDScript" id=59]
script/source = "extends Control

onready var article_banner      = $Image/TextureRect
onready var article_profile     = $Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/ProfileImage/TextureRect
onready var article_title       = $Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki/Label
onready var article_description = $Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki/RichTextLabel
onready var article_content     = $Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer2/RichTextLabel


var article:Article         = Article.new()
var texture:ImageTexture    = null

# ------------------------------------------------------------------------------

func _ready()->void:
	article_content.bbcode_enabled = true
	load_content()
	load_images()
	add_tags()

# ------------------------------------------------------------------------------

# load banner and profile
func load_images()->void:
	article_banner.texture = ImageHandler.load_image_texture(article.article_banner)
	if !(article.article_profile == \"\" or article.article_profile == null):
		article_profile.texture = ImageHandler.load_image_texture(article.article_profile)

# ------------------------------------------------------------------------------

func add_tags()->void:
	var tags = article.tags
	var tag_node:HBoxContainer = $Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki/Tags
	for x in tags:
		var label:Label = Label.new()
		label.text      = x
		label.theme     = load(\"res://systems/wiki_dashboard/ui_elements/wiki_reader/tags_theme.tres\")
		tag_node.add_child(label)

# ------------------------------------------------------------------------------

# load preview
func load_content()->void:
	article_content.bbcode_text     = article.article_raw
	article_title.text              = article.article_name
	article_description.bbcode_text = article.article_description

# ------------------------------------------------------------------------------

# close the wiki
func _on_CloseButton_pressed():
	self.queue_free()

# ------------------------------------------------------------------------------

# open editor
func _on_Button_pressed():
	EventBus.emit_signal(\"edit_article\", article)
"

[sub_resource type="GDScript" id=34]
script/source = "extends Tween

func load_wiki_reader()->void:
	self.interpolate_property(
		get_parent(),
		\"rect_min_size\",
		Vector2(0, OS.window_size.y),
		Vector2(0,600), 0.3,
		Tween.TRANS_CUBIC,
		Tween.EASE_OUT
	)

	self.start()
"

[sub_resource type="StyleBoxFlat" id=5]
bg_color = Color( 0.145098, 0.145098, 0.145098, 1 )
shadow_color = Color( 0, 0, 0, 0.0941176 )
shadow_size = 50
shadow_offset = Vector2( 0, 10 )

[sub_resource type="GDScript" id=36]
script/source = "extends Panel

func _input(event):
	if event is InputEventMouseButton:
		if (get_child(0).get_child(2).value == 0 and get_child(0).scroll_vertical_enabled):
			if event.is_pressed() and event.button_index == BUTTON_WHEEL_UP:
				$\"../../../../AnimationPlayer\".play(\"Wiki reading mode backward\")
		if (get_child(0).get_child(2).value == 0 and !get_child(0).scroll_vertical_enabled):
			if event.is_pressed() and event.button_index == BUTTON_WHEEL_DOWN:
				$\"../../../../AnimationPlayer\".play(\"Wiki reading mode\")
"

[sub_resource type="StyleBoxEmpty" id=39]

[sub_resource type="StyleBoxEmpty" id=40]

[sub_resource type="StyleBoxEmpty" id=41]

[sub_resource type="StyleBoxEmpty" id=42]

[sub_resource type="StyleBoxEmpty" id=43]

[sub_resource type="Theme" id=44]
VScrollBar/styles/grabber = SubResource( 39 )
VScrollBar/styles/grabber_highlight = SubResource( 40 )
VScrollBar/styles/grabber_pressed = SubResource( 41 )
VScrollBar/styles/scroll = SubResource( 42 )
VScrollBar/styles/scroll_focus = SubResource( 43 )

[sub_resource type="DynamicFont" id=1]
size = 65
use_mipmaps = true
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="DynamicFont" id=26]
font_data = ExtResource( 10 )

[sub_resource type="DynamicFont" id=27]
font_data = ExtResource( 14 )

[sub_resource type="DynamicFont" id=28]
font_data = ExtResource( 5 )

[sub_resource type="DynamicFont" id=29]
font_data = ExtResource( 3 )

[sub_resource type="DynamicFont" id=3]
use_mipmaps = true
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="DynamicFont" id=4]
use_mipmaps = true
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="StyleBoxFlat" id=52]
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )

[sub_resource type="StyleBoxFlat" id=53]
bg_color = Color( 0.219608, 0.564706, 0.886275, 1 )

[sub_resource type="StyleBoxFlat" id=54]
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color( 0.219608, 0.564706, 0.886275, 1 )

[sub_resource type="StyleBoxFlat" id=55]
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[sub_resource type="DynamicFont" id=48]
use_mipmaps = true
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="StyleBoxFlat" id=45]
content_margin_left = 10.0
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )

[sub_resource type="StyleBoxFlat" id=46]
content_margin_left = 10.0
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )
border_width_bottom = 2
border_color = Color( 0.219608, 0.564706, 0.886275, 1 )
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[sub_resource type="StyleBoxFlat" id=47]
content_margin_left = 10.0
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )
border_color = Color( 0.219608, 0.564706, 0.886275, 1 )
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[sub_resource type="StyleBoxFlat" id=49]
content_margin_left = 5.0
content_margin_right = 5.0
content_margin_top = 5.0
content_margin_bottom = 5.0
bg_color = Color( 0.219608, 0.564706, 0.886275, 1 )
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[sub_resource type="StyleBoxFlat" id=50]
content_margin_left = 5.0
content_margin_right = 5.0
content_margin_top = 5.0
content_margin_bottom = 5.0
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[sub_resource type="StyleBoxFlat" id=51]
content_margin_left = 5.0
content_margin_right = 5.0
content_margin_top = 5.0
content_margin_bottom = 5.0
bg_color = Color( 0.203922, 0.203922, 0.203922, 1 )
corner_radius_top_left = 3
corner_radius_top_right = 3
corner_radius_bottom_right = 3
corner_radius_bottom_left = 3

[sub_resource type="StyleBoxFlat" id=20]
content_margin_left = 15.0
content_margin_right = 15.0
content_margin_top = 10.0
content_margin_bottom = 10.0
bg_color = Color( 0.6, 0.6, 0.6, 0 )
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
border_color = Color( 0.219608, 0.564706, 0.886275, 1 )
corner_radius_top_left = 100
corner_radius_top_right = 100
corner_radius_bottom_right = 100
corner_radius_bottom_left = 100

[sub_resource type="Theme" id=21]
Button/styles/disabled = SubResource( 20 )
Button/styles/focus = SubResource( 20 )
Button/styles/hover = SubResource( 20 )
Button/styles/normal = SubResource( 20 )
Button/styles/pressed = SubResource( 20 )

[sub_resource type="DynamicFont" id=22]
use_mipmaps = true
use_filter = true
font_data = ExtResource( 1 )

[sub_resource type="GDScript" id=35]
script/source = "extends Button


func _on_Button_pressed():
	$\"../../../../../AnimationPlayer\".play(\"Wiki reading mode\")
"

[sub_resource type="Animation" id=24]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rect_size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 108, 40 ) ]
}

[sub_resource type="Animation" id=25]
resource_name = "scroll_show"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( -2, -2 ),
"update": 0,
"values": [ Vector2( 0, 80 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rect_size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 108, 40 ), Vector2( 108, 40 ) ]
}

[sub_resource type="Animation" id=38]
resource_name = "scroll_show_backward"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( -2, -2 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, 80 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rect_size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector2( 108, 40 ), Vector2( 108, 40 ) ]
}

[sub_resource type="StyleBoxFlat" id=61]
bg_color = Color( 0, 0, 0, 0 )
corner_radius_top_left = 100
corner_radius_top_right = 100
corner_radius_bottom_right = 100
corner_radius_bottom_left = 100

[sub_resource type="GDScript" id=62]
script/source = "extends Button
"

[sub_resource type="Animation" id=31]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/MarginContainer:rect_min_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 600 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer:scroll_vertical_enabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel:rect_min_size")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 1000, 0 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("../../Image/TextureRect2:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ) ]
}

[sub_resource type="Animation" id=33]
resource_name = "Wiki reader load"
length = 0.5
tracks/0/type = "method"
tracks/0/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/MarginContainer/Tween")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "load_wiki_reader"
} ]
}
tracks/1/type = "method"
tracks/1/path = NodePath("OverlayButton/MarginContainer/ButtonContainer/Control/Button/AnimationPlayer")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ "scroll_show", -1, 1.0, false ],
"method": "play"
} ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer:scroll_vertical_enabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("../../Image/TextureRect2:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.5 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}

[sub_resource type="Animation" id=30]
resource_name = "Wiki reading mode"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/MarginContainer:rect_min_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( -2, -2 ),
"update": 0,
"values": [ Vector2( 0, 600 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer:scroll_vertical_enabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.3 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/2/type = "method"
tracks/2/path = NodePath("../../EffectLayer/BackgroundBlur")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "blurBackground"
} ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("../../Image/TextureRect2:modulate")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ) ]
}
tracks/4/type = "animation"
tracks/4/path = NodePath("OverlayButton/MarginContainer/ButtonContainer/Control/Button/AnimationPlayer")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"clips": PoolStringArray( "scroll_show_backward" ),
"times": PoolRealArray( 0 )
}

[sub_resource type="Animation" id=37]
resource_name = "Wiki reading mode backward"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/MarginContainer:rect_min_size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( -2, -2 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, 600 ) ]
}
tracks/1/type = "method"
tracks/1/path = NodePath("OverlayButton/MarginContainer/ButtonContainer/Control/Button/AnimationPlayer")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.3 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [ "scroll_show", -1, 1.0, false ],
"method": "play"
} ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer:scroll_vertical_enabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, false ]
}
tracks/3/type = "method"
tracks/3/path = NodePath("../../EffectLayer/BackgroundBlur")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0.3 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "unBlurBackground"
} ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("../../Image/TextureRect2:modulate")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}

[sub_resource type="Animation" id=60]
resource_name = "wiki panel close"

[sub_resource type="GDScript" id=56]
script/source = "extends Control

func load_article():
	pass

func _process(delta:float)->void:
	self.set_global_position((get_global_mouse_position() - self.get_pivot_offset()) + Vector2(0, 20) )
"

[sub_resource type="Animation" id=57]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("PopUps/Control:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ) ]
}

[sub_resource type="Animation" id=58]
resource_name = "show_hide"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath("PopUps/Control:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}

[node name="WikiReader" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = SubResource( 59 )

[node name="Image" type="CanvasLayer" parent="."]

[node name="TextureRect" type="TextureRect" parent="Image"]
anchor_right = 1.0
anchor_bottom = 1.0
expand = true
stretch_mode = 7

[node name="TextureRect2" type="TextureRect" parent="Image"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 11 )
stretch_mode = 7

[node name="EffectLayer" type="CanvasLayer" parent="."]

[node name="BackgroundBlur" parent="EffectLayer" instance=ExtResource( 4 )]
Animate = false

[node name="Reader" type="CanvasLayer" parent="."]

[node name="WikiReader" type="Control" parent="Reader"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="HBoxContainer" type="HBoxContainer" parent="Reader/WikiReader"]
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_editor_description_": "Contains the actuall reader"
}

[node name="IndexPanel" type="Panel" parent="Reader/WikiReader/HBoxContainer"]
visible = false
margin_right = 372.0
margin_bottom = 1080.0
rect_min_size = Vector2( 372, 0 )

[node name="HBoxContainer" type="HBoxContainer" parent="Reader/WikiReader/HBoxContainer"]
margin_right = 1920.0
margin_bottom = 1080.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0

[node name="MarginContainer" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer"]
margin_right = 460.0
margin_bottom = 1080.0
size_flags_horizontal = 3

[node name="VBoxContainer" type="VBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer"]
margin_left = 460.0
margin_right = 1460.0
margin_bottom = 1080.0
size_flags_horizontal = 3
custom_constants/separation = 0

[node name="MarginContainer" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer"]
margin_right = 1000.0
margin_bottom = 600.0
rect_min_size = Vector2( 0, 600 )
size_flags_horizontal = 3

[node name="Tween" type="Tween" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/MarginContainer"]
script = SubResource( 34 )

[node name="WikiPanel" type="Panel" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer"]
margin_top = 600.0
margin_right = 1000.0
margin_bottom = 1080.0
rect_min_size = Vector2( 1000, 0 )
size_flags_horizontal = 3
size_flags_vertical = 3
custom_styles/panel = SubResource( 5 )
script = SubResource( 36 )

[node name="ScrollContainer" type="ScrollContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel"]
anchor_right = 1.0
anchor_bottom = 1.0
theme = SubResource( 44 )
scroll_horizontal_enabled = false

[node name="VBoxContainer" type="VBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer"]
margin_right = 1000.0
margin_bottom = 505.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_constants/separation = 0

[node name="MarginContainer3" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer"]
margin_right = 1000.0
margin_bottom = 70.0
rect_min_size = Vector2( 80, 70 )

[node name="HBoxContainer" type="HBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer"]
margin_top = 70.0
margin_right = 1000.0
margin_bottom = 420.0
rect_min_size = Vector2( 0, 350 )
size_flags_horizontal = 3
custom_constants/separation = 0

[node name="MarginContainer2" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer"]
margin_right = 80.0
margin_bottom = 350.0
rect_min_size = Vector2( 80, 0 )

[node name="Wiki" type="VBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer"]
margin_left = 80.0
margin_right = 670.0
margin_bottom = 350.0
size_flags_horizontal = 3
custom_constants/separation = 20

[node name="Label" type="Label" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki"]
margin_right = 590.0
margin_bottom = 77.0
custom_fonts/font = SubResource( 1 )
text = "Title"
valign = 1

[node name="Tags" type="HBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki"]
margin_top = 97.0
margin_right = 590.0
margin_bottom = 127.0
rect_min_size = Vector2( 0, 30 )
custom_constants/separation = 15

[node name="MarginContainer2" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki"]
margin_top = 147.0
margin_right = 590.0
margin_bottom = 167.0
rect_min_size = Vector2( 0, 20 )

[node name="RichTextLabel" type="RichTextLabel" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/Wiki"]
margin_top = 187.0
margin_right = 590.0
margin_bottom = 350.0
size_flags_horizontal = 3
size_flags_vertical = 3
custom_colors/default_color = Color( 0.878431, 0.878431, 0.878431, 1 )
custom_fonts/mono_font = SubResource( 26 )
custom_fonts/bold_italics_font = SubResource( 27 )
custom_fonts/italics_font = SubResource( 28 )
custom_fonts/bold_font = SubResource( 29 )
custom_fonts/normal_font = SubResource( 3 )
bbcode_enabled = true
bbcode_text = "sample text"
text = "sample text"

[node name="ProfileImage" type="VBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer"]
margin_left = 670.0
margin_right = 920.0
margin_bottom = 350.0
rect_min_size = Vector2( 250, 0 )

[node name="TextureRect" type="TextureRect" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/ProfileImage"]
margin_right = 250.0
margin_bottom = 250.0
rect_min_size = Vector2( 250, 250 )
size_flags_horizontal = 6
expand = true
stretch_mode = 6

[node name="MarginContainer3" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/ProfileImage"]
margin_top = 254.0
margin_right = 250.0
margin_bottom = 269.0
rect_min_size = Vector2( 0, 15 )

[node name="VBoxContainer" type="VBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/ProfileImage"]
margin_top = 273.0
margin_right = 250.0
margin_bottom = 321.0
custom_constants/separation = 10

[node name="Label" type="Label" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/ProfileImage/VBoxContainer"]
modulate = Color( 1, 1, 1, 0.588235 )
margin_right = 250.0
margin_bottom = 19.0
custom_fonts/font = SubResource( 4 )
text = "type of article"
align = 1
valign = 1

[node name="Label2" type="Label" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer/ProfileImage/VBoxContainer"]
modulate = Color( 0.219608, 0.564706, 0.886275, 1 )
margin_top = 29.0
margin_right = 250.0
margin_bottom = 48.0
custom_fonts/font = SubResource( 4 )
text = "sample text"
align = 1
valign = 1

[node name="MarginContainer" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer"]
margin_left = 920.0
margin_right = 1000.0
margin_bottom = 350.0
rect_min_size = Vector2( 80, 0 )

[node name="HBoxContainer2" type="HBoxContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer"]
margin_top = 420.0
margin_right = 1000.0
margin_bottom = 435.0
custom_constants/separation = 0

[node name="MarginContainer" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer2"]
margin_right = 80.0
margin_bottom = 15.0
rect_min_size = Vector2( 80, 0 )

[node name="RichTextLabel" type="RichTextLabel" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer2"]
margin_left = 80.0
margin_right = 920.0
margin_bottom = 15.0
size_flags_horizontal = 3
custom_fonts/mono_font = SubResource( 26 )
custom_fonts/bold_italics_font = SubResource( 27 )
custom_fonts/italics_font = SubResource( 28 )
custom_fonts/bold_font = SubResource( 29 )
bbcode_enabled = true
fit_content_height = true
scroll_active = false

[node name="MarginContainer2" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer/HBoxContainer2"]
margin_left = 920.0
margin_right = 1000.0
margin_bottom = 15.0
rect_min_size = Vector2( 80, 0 )

[node name="MarginContainer4" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer/VBoxContainer/WikiPanel/ScrollContainer/VBoxContainer"]
margin_top = 435.0
margin_right = 1000.0
margin_bottom = 505.0
rect_min_size = Vector2( 80, 70 )

[node name="MarginContainer2" type="MarginContainer" parent="Reader/WikiReader/HBoxContainer/HBoxContainer"]
margin_left = 1460.0
margin_right = 1920.0
margin_bottom = 1080.0
size_flags_horizontal = 3

[node name="OverlayButton" type="Control" parent="Reader/WikiReader"]
anchor_right = 1.0
anchor_bottom = 1.0
mouse_filter = 2
__meta__ = {
"_editor_description_": "Contains all the Button"
}

[node name="MarginContainer" type="MarginContainer" parent="Reader/WikiReader/OverlayButton"]
anchor_left = 0.015625
anchor_top = 0.0277778
anchor_right = 0.984375
anchor_bottom = 0.972222
margin_left = -5.0
margin_top = -5.0
margin_right = 5.0
margin_bottom = 5.0
mouse_filter = 2

[node name="ButtonContainer" type="Control" parent="Reader/WikiReader/OverlayButton/MarginContainer"]
margin_right = 1870.0
margin_bottom = 1029.0
mouse_filter = 2

[node name="HBoxContainer" type="HBoxContainer" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer"]
anchor_right = 1.0
rect_min_size = Vector2( 0, 40 )
custom_constants/separation = 30

[node name="Button" type="Button" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer"]
margin_right = 40.0
margin_bottom = 40.0
rect_min_size = Vector2( 40, 40 )
custom_styles/hover = SubResource( 52 )
custom_styles/pressed = SubResource( 53 )
custom_styles/focus = SubResource( 54 )
custom_styles/normal = SubResource( 55 )

[node name="MarginContainer" type="MarginContainer" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer"]
margin_left = 70.0
margin_right = 1470.0
margin_bottom = 40.0
size_flags_horizontal = 3

[node name="LineEdit" type="LineEdit" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer"]
margin_left = 1500.0
margin_right = 1800.0
margin_bottom = 40.0
rect_min_size = Vector2( 300, 0 )
custom_fonts/font = SubResource( 48 )
custom_styles/read_only = SubResource( 45 )
custom_styles/focus = SubResource( 46 )
custom_styles/normal = SubResource( 47 )
placeholder_text = "seach in the wiki"

[node name="TextureRect" type="TextureRect" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer/LineEdit"]
modulate = Color( 0.537255, 0.537255, 0.537255, 1 )
anchor_left = 1.0
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_left = -40.0
margin_top = -20.0
margin_bottom = 20.0
texture = ExtResource( 7 )
stretch_mode = 4

[node name="CloseButton" type="Button" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer"]
margin_left = 1830.0
margin_right = 1870.0
margin_bottom = 40.0
rect_min_size = Vector2( 40, 40 )
mouse_default_cursor_shape = 2
custom_styles/hover = SubResource( 49 )
custom_styles/pressed = SubResource( 49 )
custom_styles/focus = SubResource( 49 )
custom_styles/disabled = SubResource( 50 )
custom_styles/normal = SubResource( 51 )
expand_icon = true

[node name="TextureRect" type="TextureRect" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer/CloseButton"]
modulate = Color( 0.768627, 0.768627, 0.768627, 1 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -15.0
margin_top = -15.0
margin_right = 15.0
margin_bottom = 15.0
texture = ExtResource( 2 )
expand = true
stretch_mode = 6

[node name="Control" type="Control" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer"]
anchor_left = 0.470968
anchor_top = 0.961727
anchor_right = 0.529032
anchor_bottom = 1.00098
margin_right = 6.10352e-05
__meta__ = {
"_edit_use_anchors_": true
}

[node name="Button" type="Button" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/Control"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 108.0
margin_bottom = 40.0
mouse_default_cursor_shape = 2
theme = SubResource( 21 )
custom_colors/font_color_disabled = Color( 0.219608, 0.564706, 0.886275, 1 )
custom_colors/font_color_focus = Color( 0.219608, 0.564706, 0.886275, 1 )
custom_colors/font_color = Color( 0.219608, 0.564706, 0.886275, 1 )
custom_colors/font_color_hover = Color( 0.219608, 0.564706, 0.886275, 1 )
custom_colors/font_color_pressed = Color( 0.219608, 0.564706, 0.886275, 1 )
custom_fonts/font = SubResource( 22 )
text = "read more"
script = SubResource( 35 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/Control/Button"]
anims/RESET = SubResource( 24 )
anims/scroll_show = SubResource( 25 )
anims/scroll_show_backward = SubResource( 38 )

[node name="AddNewCardButton" type="TextureRect" parent="Reader/WikiReader/OverlayButton"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -146.0
margin_top = -136.0
rect_min_size = Vector2( 45, 45 )
texture = ExtResource( 9 )

[node name="Button" type="Button" parent="Reader/WikiReader/OverlayButton/AddNewCardButton"]
anchor_left = 0.410959
anchor_top = 0.411765
anchor_right = 0.821918
anchor_bottom = 0.852941
mouse_default_cursor_shape = 2
custom_styles/hover = SubResource( 61 )
custom_styles/pressed = SubResource( 61 )
custom_styles/focus = SubResource( 61 )
custom_styles/normal = SubResource( 61 )
script = SubResource( 62 )
__meta__ = {
"_edit_use_anchors_": true
}

[node name="TextureRect2" type="TextureRect" parent="Reader/WikiReader/OverlayButton/AddNewCardButton/Button"]
modulate = Color( 0.203922, 0.203922, 0.203922, 1 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -15.0
margin_top = -15.0
margin_right = 15.0
margin_bottom = 15.0
texture = ExtResource( 6 )
expand = true
stretch_mode = 6

[node name="AnimationPlayer" type="AnimationPlayer" parent="Reader/WikiReader"]
autoplay = "Wiki reader load"
anims/RESET = SubResource( 31 )
"anims/Wiki reader load" = SubResource( 33 )
"anims/Wiki reading mode" = SubResource( 30 )
"anims/Wiki reading mode backward" = SubResource( 37 )
"anims/wiki panel close" = SubResource( 60 )

[node name="PopUps" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="PopUps"]
visible = false
modulate = Color( 1, 1, 1, 0 )
anchor_left = 0.361979
anchor_top = 0.707407
anchor_right = 0.596354
anchor_bottom = 0.985185
rect_pivot_offset = Vector2( 225, 0 )
script = SubResource( 56 )
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": true
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="PopUps/Control"]
root_node = NodePath("../../..")
anims/RESET = SubResource( 57 )
anims/show_hide = SubResource( 58 )

[node name="Panel" type="Panel" parent="PopUps/Control"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="VBoxContainer" type="VBoxContainer" parent="PopUps/Control/Panel"]
anchor_left = 0.0222717
anchor_top = 0.0330033
anchor_right = 0.977728
anchor_bottom = 0.966997
__meta__ = {
"_edit_use_anchors_": true
}

[node name="Label" type="Label" parent="PopUps/Control/Panel/VBoxContainer"]
margin_right = 429.0
margin_bottom = 96.0
size_flags_vertical = 1
custom_fonts/font = ExtResource( 8 )
text = "Title"
align = 1
valign = 1

[node name="RichTextLabel" type="RichTextLabel" parent="PopUps/Control/Panel/VBoxContainer"]
margin_top = 100.0
margin_right = 429.0
margin_bottom = 280.0
size_flags_horizontal = 3
size_flags_vertical = 3

[connection signal="pressed" from="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/HBoxContainer/CloseButton" to="." method="_on_CloseButton_pressed"]
[connection signal="pressed" from="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/Control/Button" to="Reader/WikiReader/OverlayButton/MarginContainer/ButtonContainer/Control/Button" method="_on_Button_pressed"]
[connection signal="pressed" from="Reader/WikiReader/OverlayButton/AddNewCardButton/Button" to="." method="_on_Button_pressed"]
